<h1 class="page-title">My Dashboard</h1>

<h3>About Me</h3>
<%= @user.username %>
<%= @user.options %>

<h3>My Favorites</h3>
<table class="table col-md-12" id="favorites">
  <thead>
    <tr>
      <th>Video title</th>
      <th>Video info</th>
    </tr>
  </thead>
  <tbody>
  <% @user.video_favorites.each do |video_favorite| %>
  <tr>
    <td>
      <%= video_favorite.video.video_info["title"] %>
    </td>
    <td>
      <%= video_favorite.video.video_info["description"] %>
    </td>
  </tr>
  <% end %>
  </tbody>
</table>

<h3>My Votes</h3>
<table class="table col-md-12" id="votes">
  <thead>
    <tr>
      <th>Video title</th>
      <th>Video info</th>
    </tr>
  </thead>
  <tbody>
  <% @user.votes_on_tracks.each do |track_vote| %>
  <tr>
    <td>
      <%= track_vote.description_track.video.video_info["title"] %>
    </td>
    <td>
      <%= track_vote.description_track.video.video_info["description"] %>
    </td>
  </tr>
  <% end %>
  </tbody>
</table>

<h3>My Requests</h3>
<table class="table col-md-12" id="requests">
  <thead>
    <tr>
      <th>Video title</th>
      <th>Requested language</th>
    </tr>
  </thead>
  <tbody>
    <% @user.video_requests.each do |request| %>
      <tr>
        <td>
          <%= request.video.video_info["title"] %>
        </td>
        <td>
          <%= request["requested_lang"] %>
        </td>
      </tr>
    <% end %>
    <% @user.video_request_upvotes.each do |upvote| %>
      <tr>
        <td>
          <%= upvote.video_request.video.video_info["title"] %>
        </td>
        <td>
          <%= upvote.video_request["requested_lang"] %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<h3>My Comments</h3>
<table class="table col-md-12" id="comments">
  <thead>
    <tr>
      <th>Video title</th>
      <th>Video info</th>
      <th>Comment</th>
    </tr>
  </thead>
  <tbody>
  <% @user.comments_on_tracks.each do |comment| %>
  <tr>
    <td>
      <%= comment.description_track.video.video_info["title"] %>
    </td>
    <td>
      <%= comment.description_track.video.video_info["description"] %>
    </td>
    <td>
      <%= comment.comment_text %>
    </td>
  </tr>
  <% end %>
  </tbody>
</table>